<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Surprise For You ‚ú®</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Noto+Nastaliq+Urdu:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f8e1f4, #e0c3f7, #c2e6ff);
            background-size: 400% 400%;
            animation: gradientBackground 15s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 3s forwards 0.5s;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        h1 {
            font-size: 2.5rem;
            color: #6a4c93;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        /* Letter Section */
        .letter-container {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(106, 76, 147, 0.3);
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .letter {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #333;
            position: relative;
            z-index: 2;
            min-height: 200px;
            white-space: pre-wrap;
        }

        /* Surprise Button */
        .surprise-button-container {
            text-align: center;
            margin: 30px 0;
            position: relative;
        }

        .surprise-button {
            background: linear-gradient(45deg, #ff9a9e, #fad0c4, #fad0c4, #a18cd1);
            background-size: 300% 300%;
            animation: gradientButton 5s ease infinite;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(161, 140, 209, 0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 2;
        }

        .surprise-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(161, 140, 209, 0.7);
        }

        /* Surprise Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal {
            background: white;
            width: 90%;
            max-width: 450px;
            border-radius: 20px;
            padding: 25px;
            position: relative;
            transform: scale(0.8);
            transition: all 0.3s ease;
            box-shadow: 0 0 30px rgba(255, 215, 232, 0.8);
            text-align: center;
            max-height: 90vh; /* Prevent modal from going off screen */
            overflow-y: auto; /* Allow scrolling if content is too long */
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        .modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 30px;
            color: #6a4c93;
            background: none;
            border: none;
            cursor: pointer;
            z-index: 10;
            line-height: 1;
            transition: color 0.2s ease;
        }

        .modal-close:hover {
            color: #ff6b6b;
        }

        /* Modal Content Styling */
        #modal-body-content {
            width: 100%;
            display: block;
            min-height: 100px;
        }

        /* Navigation */
        .back-button {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.7);
            border: 2px solid #6a4c93;
            color: #6a4c93;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: #6a4c93;
            color: white;
        }

        /* Music Controls */
        .music-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 10px rgba(106, 76, 147, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .music-controls i {
            color: #6a4c93;
            font-size: 24px;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes gradientBackground {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes gradientButton {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Urdu Font Class */
        .urdu {
            font-family: 'Noto Nastaliq Urdu', serif;
            direction: rtl;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>For Special Person ‚ù§Ô∏è</h1>
        </header>

        <div class="letter-container">
            <div class="letter" id="typed-text"></div>
        </div>

        <div class="surprise-button-container">
            <button class="surprise-button" id="surprise-button">
                Click for a Surprise! üéÅ
            </button>
        </div>

        <div style="text-align: center;">
            <a href="cake.html" class="back-button">
                <i class="fas fa-arrow-left"></i> Back to Birthday Cake
            </a>
        </div>
    </div>

    <div class="modal-overlay" id="modal-overlay">
        <div class="modal">
            <button class="modal-close" id="modal-close">√ó</button>
            <div id="modal-body-content">
                </div>
        </div>
    </div>

    <div class="music-controls" id="music-toggle">
        <i class="fas fa-volume-mute" id="music-icon"></i>
    </div>

    <audio id="click-sound" preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_bb630cc098.mp3?filename=cute-notification-ringtone-1-173850.mp3" type="audio/mpeg">
    </audio>
    <audio id="background-music" loop>
        <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a73467.mp3?filename=relaxing-145038.mp3" type="audio/mpeg">
    </audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvas-confetti/1.5.1/confetti.browser.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- TYPED.JS CONFIGURATION ---
            const letterContent = 
"ÿ≥ÿ±Ÿê ÿ∑Ÿàÿ± €ÅŸàÿå ÿ≥ÿ±Ÿê ÿ≠ÿ¥ÿ± €ÅŸàÿå €ÅŸÖ€å⁄∫ ÿßŸÜÿ™ÿ∏ÿßÿ± ŸÇÿ®ŸàŸÑ €Å€í\nŸà€Å ⁄©ÿ®⁄æ€å ŸÖŸÑ€å⁄∫ÿå Ÿà€Å ⁄©€Å€å⁄∫ ŸÖŸÑ€å⁄∫ÿå Ÿà€Å ⁄©ÿ®⁄æ€å ÿ≥€Å€åÿå Ÿà€Å ⁄©€Å€å⁄∫ ÿ≥€Å€å\n\n" +

"As I'm writing this, so many memories come back‚Ä¶ clear, soft, warm.\n" +
"Aur haan, mujhe woh pehli baar bhi yaad hai jab maine tumhe black dress mein dekha tha.\n" +
"Is liye kaha tha na ke black dress kam pehna karo haha‚Ä¶ sach bolun toh uss din bas aik hi thought tha:\n" +
"'Okay‚Ä¶ wow.'\n\n" +

"Par agar sach bataun‚Ä¶ toh dekha toh maine tumhe bachpan se hi hai.\n" +
"Mujhe sab yaad hai‚Äîtumhara woh route, woh jagah jahan se tum roz guzarti theen.\n" +
"Aur shayad attraction bhi wahan se shuru hui ho sakti hai‚Ä¶\n" +
"Kyunke tumhare **Nana Abu** (Allah unko Jannat mein ala muqam de)\n" +
"subha Fajar ke waqt azaan dete the.\n" +
"Jab hum gari ka intezar kar rahe hotay thay, toh hum sab cousins hans kar kehte thay:\n" +
"'Azaan denay walay Baba aa gaye!' haha.\n\n" +

"Waisa main aaj tak heran hota hoon‚Ä¶\n" +
"Ke maine tumhe kabhi face-to-face pareshan nahi kiya,\n" +
"kabi paas se dekhne ki himmat nahi hui,\n" +
"jitni dafa rasta mein mila chance‚Ä¶\n" +
"phir bhi darr lagta tha.\n" +
"Is liye rasta tak badal liya‚Ä¶\n" +
"Shareef insan hoon, rasta mein mar khana achha nahi lagta hahaha.\n\n" +

"And then came your message‚Ä¶ **14 September 2018 ‚Äî 9:27 AM**.\n" +
"Bilkul random, bilkul unexpected,\n" +
"par pata nahi kyun, uss aik text ne sab kuch change kar diya.\n" +
"Conversation itni naturally shuru hui ke aaj tak khatam hi nahi hui.\n\n" +

"Happy Birthday‚Ä¶ and thank you.\n" +
"For being a memory I never want to lose.\n\n" +

"Aur ek baat aur‚Ä¶ agar kabhi kisi lafz se, kisi baat se,\n" +
"kisi message se tumhein bura laga ho ya disrespect feel hua ho‚Ä¶\n" +
"toh **I'm really sorry**.\n" +
"Maine pehle bhi kaha hai ‚Äî mujhe wish karna nahi aata‚Ä¶\n" +
"bas dil ki baat likh deta hoon.\n\n" +

"May Allah fill your life with ease, sukoon, khushiyan,\n" +
"and moments that make your heart smile in ways words never can. ‚ù§Ô∏è\n";

            new Typed("#typed-text", {
                strings: [letterContent],
                typeSpeed: 25,
                backSpeed: 0,
                loop: false,
                showCursor: false
            });

            // --- SURPRISE MODAL LOGIC ---
            const surpriseButton = document.getElementById('surprise-button');
            const modalOverlay = document.getElementById('modal-overlay');
            const modalClose = document.getElementById('modal-close');
            const modalBody = document.getElementById('modal-body-content');

            // CLICK EVENT
            surpriseButton.addEventListener('click', function() {
                console.log('Surprise button clicked!'); // Debug log
                
                // INJECT THE PHONE NUMBER & MESSAGE FIRST
                modalBody.innerHTML = `
                    <div style="padding: 20px; text-align: center;">
                        <h2 style="color:#6a4c93; margin-bottom:15px; font-size: 1.8rem;">üì± My Number Only For You</h2>
                        <h1 style="font-size:2.2rem; color:#000; margin-bottom:25px; font-weight:800; letter-spacing: 2px;">03185538074</h1>

                        <p style="font-size:1.1rem; margin-bottom:25px; line-height: 1.6; color:#333;">
                        Ya mera number ha‚Ä¶ üíó<br>
                        Is pa msg kr den‚Ä¶<br>
                        Apka number <b>SARKAR</b> name se save krni ki bohot khwaish ha üòÇ‚ù§Ô∏è
                        </p>

                        <div style="background: rgba(255, 240, 245, 0.8); padding: 20px; border-radius: 15px; margin-top: 20px; border-left: 4px solid #6a4c93; box-shadow: 0 3px 10px rgba(106, 76, 147, 0.2);">
                            <p style="font-size: 1rem; line-height: 1.7; color: #444; text-align: left; margin: 0; font-style: italic;">
                                (sorry!!)<br><br>
                                And‚Ä¶ have a beautiful journey ahead.<br><br>
                                I always pray to see you successful, happy, and fearless while chasing your dreams.<br><br>
                                No matter how far life takes you, may every step bring you closer to everything your heart desires.<br><br>
                                You deserve the best ‚Äî today, tomorrow, and always.<br><br>
                                Ameen‚Ä¶ always praying for you.
                            </p>
                        </div>
                    </div>
                `;
                
                // Show the modal
                modalOverlay.classList.add('active');
                
                // Play sound (with error handling)
                try {
                    document.getElementById('click-sound').play().catch(e => {
                        console.log('Could not play sound:', e);
                    });
                } catch (e) {
                    console.log('Sound error:', e);
                }

                // CONFETTI EFFECT (with error handling)
                try {
                    confetti({
                        particleCount: 200,
                        spread: 80,
                        origin: { y: 0.6 }
                    });
                } catch (e) {
                    console.log('Confetti error:', e);
                }
                
                console.log('Modal should now be visible'); // Debug log
            });

            modalClose.addEventListener('click', function() {
                console.log('Modal close button clicked');
                modalOverlay.classList.remove('active');
            });

            // Close on outside click
            modalOverlay.addEventListener('click', function(e) {
                if (e.target === modalOverlay) {
                    console.log('Modal overlay clicked, closing modal');
                    modalOverlay.classList.remove('active');
                }
            });

            // Additional check to ensure elements exist
            if (!surpriseButton || !modalOverlay || !modalClose || !modalBody) {
                console.error('Some modal elements not found:', {
                    surpriseButton: !!surpriseButton,
                    modalOverlay: !!modalOverlay, 
                    modalClose: !!modalClose,
                    modalBody: !!modalBody
                });
            } else {
                console.log('All modal elements found successfully!');
            }

            // --- MUSIC LOGIC ---
            const musicToggle = document.getElementById('music-toggle');
            const musicIcon = document.getElementById('music-icon');
            const backgroundMusic = document.getElementById('background-music');
            let isPlaying = false;

            musicToggle.addEventListener('click', function() {
                if (isPlaying) {
                    backgroundMusic.pause();
                    musicIcon.classList.remove('fa-volume-up');
                    musicIcon.classList.add('fa-volume-mute');
                } else {
                    backgroundMusic.play();
                    musicIcon.classList.remove('fa-volume-mute');
                    musicIcon.classList.add('fa-volume-up');
                }
                isPlaying = !isPlaying;
            });
        });
    </script>
</body>
</html>
